{% extends "shop/formbase.html" %}
{% load static %}

{% block css-js-bodyhome_phimdangchieu %}
<link rel="stylesheet" href="{% static 'shop/css/bodyhome_phimdangchieu.css' %}">
{% endblock %}


{% block content-bodyhome_phimdangchieu %}
<section class="now-playing">
  <div class="np-header">
    <h2>Phim đang chiếu</h2>
    <div class="np-tools">
      <select class="np-select">
        <option value="">Sắp xếp</option>
        <option value="new">Mới nhất</option>
        <option value="popular">Phổ biến</option>
        <option value="rating">Đánh giá cao</option>
      </select>
      <select class="np-select">
        <option value="">Thể loại</option>
        <option>Hành động</option>
        <option>Phiêu lưu</option>
        <option>Học đường</option>
        <option>Viễn tưởng</option>
      </select>
    </div>
  </div>

  <div class="np-grid">
    <a href="#" class="np-card">
      <div class="np-thumb">
        <img src="{% static 'shop/images/placeholder.jpg' %}" alt="Poster">
        <span class="np-badge">Tập 12</span>
      </div>
      <div class="np-body">
        <h3>Kimetsu no Yaiba</h3>
        <div class="np-meta">
          <span>2024</span>
          <span class="np-dot"></span>
          <span>24 phút/tập</span>
        </div>
        <div class="np-stats">
          <span class="np-rate"><i class="fa-solid fa-star"></i> 9.1</span>
          <span class="np-tag">Action</span>
        </div>
      </div>
    </a>

    <a href="#" class="np-card">
      <div class="np-thumb">
        <img src="{% static 'shop/images/placeholder.jpg' %}" alt="Poster">
        <span class="np-badge">HD</span>
      </div>
      <div class="np-body">
        <h3>One Piece</h3>
        <div class="np-meta">
          <span>1999</span>
          <span class="np-dot"></span>
          <span>~23 phút/tập</span>
        </div>
        <div class="np-stats">
          <span class="np-rate"><i class="fa-solid fa-star"></i> 8.8</span>
          <span class="np-tag">Adventure</span>
        </div>
      </div>
    </a>

    <a href="#" class="np-card">
      <div class="np-thumb">
        <img src="{% static 'shop/images/placeholder.jpg' %}" alt="Poster">
        <span class="np-badge">Tập 08</span>
      </div>
      <div class="np-body">
        <h3>Jujutsu Kaisen</h3>
        <div class="np-meta">
          <span>2023</span>
          <span class="np-dot"></span>
          <span>24 phút/tập</span>
        </div>
        <div class="np-stats">
          <span class="np-rate"><i class="fa-solid fa-star"></i> 9.0</span>
          <span class="np-tag">Supernatural</span>
        </div>
      </div>
    </a>

    <a href="#" class="np-card">
      <div class="np-thumb">
        <img src="{% static 'shop/images/placeholder.jpg' %}" alt="Poster">
        <span class="np-badge">Full</span>
      </div>
      <div class="np-body">
        <h3>Your Name</h3>
        <div class="np-meta">
          <span>2016</span>
          <span class="np-dot"></span>
          <span>Phim lẻ</span>
        </div>
        <div class="np-stats">
          <span class="np-rate"><i class="fa-solid fa-star"></i> 9.2</span>
          <span class="np-tag">Romance</span>
        </div>
      </div>
    </a>

    <a href="#" class="np-card">
      <div class="np-thumb">
        <img src="{% static 'shop/images/placeholder.jpg' %}" alt="Poster">
        <span class="np-badge">Tập 05</span>
      </div>
      <div class="np-body">
        <h3>Haikyuu!!</h3>
        <div class="np-meta">
          <span>2014</span>
          <span class="np-dot"></span>
          <span>24 phút/tập</span>
        </div>
        <div class="np-stats">
          <span class="np-rate"><i class="fa-solid fa-star"></i> 8.7</span>
          <span class="np-tag">Sports</span>
        </div>
      </div>
    </a>

    <a href="#" class="np-card">
      <div class="np-thumb">
        <img src="{% static 'shop/images/placeholder.jpg' %}" alt="Poster">
        <span class="np-badge">Cam</span>
      </div>
      <div class="np-body">
        <h3>Spy x Family</h3>
        <div class="np-meta">
          <span>2022</span>
          <span class="np-dot"></span>
          <span>24 phút/tập</span>
        </div>
        <div class="np-stats">
          <span class="np-rate"><i class="fa-solid fa-star"></i> 8.6</span>
          <span class="np-tag">Comedy</span>
        </div>
      </div>
    </a>
  </div>

  <div class="np-pagination">
    <a href="#" class="np-page prev"><i class="fa-solid fa-angle-left"></i></a>
    <a href="#" class="np-page active">1</a>
    <a href="#" class="np-page">2</a>
    <a href="#" class="np-page">3</a>
    <a href="#" class="np-page next"><i class="fa-solid fa-angle-right"></i></a>
  </div>
</section>
{% endblock %}

{% block js-bodyhome_phimdangchieu %}
<script src="{% static 'shop/js/bodyhome_phimdangchieu.js' %}"></script>
  <script>
  (function() {
    const pool = [
      '{% static "shop/images/1.jpg" %}',
      '{% static "shop/images/2.jpg" %}',
      '{% static "shop/images/3.jpg" %}',
      '{% static "shop/images/4.jpg" %}',
      '{% static "shop/images/5.jpg" %}',
      '{% static "shop/images/6.jpg" %}',
      '{% static "shop/images/7.jpg" %}',
      '{% static "shop/images/8.jpg" %}'
    ];
    const randImg = () => pool[Math.floor(Math.random() * pool.length)];
    const imgs = document.querySelectorAll('.np-thumb img');
    imgs.forEach(img => {
      const src = img.getAttribute('src') || '';
      if (!src || /placeholder\.jpg$/i.test(src)) {
        img.src = randImg();
      }
      img.addEventListener('error', () => {
        img.src = randImg();
      });
    });
  })();
 </script>
{% endblock %}
